<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>ECE 4160: Lab 5</title>
        <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
            <a class="navbar-brand js-scroll-trigger" href="#page-top">
                <span class="d-block d-lg-none">Eshita Sangani</span>
                <span class="d-none d-lg-block"><img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="assets/profile.jpg" alt="..." /></span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="index.html">About</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab1.html">Lab 1</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab2.html" >Lab 2</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab3.html" >Lab 2</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab4.html">Lab 4</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab5.html" style="color: rgb(31, 78, 47);">Lab 5</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab6.html">Lab 6</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab7.html">Lab 7</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab8.html">Lab 8</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab9.html">Lab 9</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab10.html">Lab 10</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab11.html">Lab 11</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="Lab12.html">Lab 12</a></li>
                </ul>
            </div>
        </nav>
    <!-- Page Content-->
    <section class="resume-section" id="experience">
        <div class="resume-section-content">
            <h2 class="mb-2">Lab 5 <span class="text-primary">Motors and Open Loop Control</span></h2>
            <p class="mb-5">
                
                The purpose of this lab was to add open loop control of the car, instead of manual, and then be 
                able to integrate it with the Artemis and the dual motor drivers to execute some fun moves.
                </p>

            <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                <div class="flex-grow-1">
                    <h3 class="mb-0">PRELAB + SETUP</h3>
                    
                    <p>
                        We will be using two dual input motor drivers and use the two channels 
                        to drive each motor as each motor driver has two inputs. 
                        After reading through the datasheet for the motor drivers, I needed to make 
                        sure that I was using the right PWM pins on the Artemis to be able to drive
                        the motor. The Artemis and motor drivers are powered from separate batteries because
                        the motor uses more energy and also helps reduce the effect of noise on the sensors
                        because of the motor. It also needs a higher voltage battery in comparison 
                        to the power consumption of the Artemis. This is a diagram of my setup.
                        
                    </p>

                    <p> 
                        <img src="assets/setup.jpg" alt="..." width="55%" />
                    </p>

                    <p> 
                       When soldering these connections, I made sure to use solid core wires for the 
                       overlapping pins and ensured to use heat shrink if I had used stranded wire. 
                       After this setup, I hooked up Vin and Gnd using the power supply and then 
                       connected the output of each motor driver to the oscilloscope. I used the AnalogWrite() function to generate
                        PWM signals that could then be observed on the scope. The output of the 
                        two motor drivers is shown below.

                    </p>
                    <p> 
                        <img src="assets/scope.jpg" alt="..." width="55%" />
                    </p>

                    <p> 
                        <script src="https://gist.github.com/eshitasangani/69204719c0694c4e774b08cce1f3c0cb.js"></script>
                    </p>

                </div>
            </div>

            <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                <div class="flex-grow-1">
                    <h3 class="mb-0">Take the Car Apart!</h3>
                    <p> 
                        After testing the functionality of each motor driver, it was 
                        time to implement the sensors + Artemis + drivers in the car. 
                        I took out the current PCB that existed in the car 
                        and replaced it with my setup, as seen below. This also 
                        included soldering the output of the drivers to the motors 
                        in the car which was a little tricky because of the way 
                        I had setup my wires. 
                    </p>
                    <p> 
                        <img src="assets/carsetup.jpg" alt="..." width="55%" />
                    </p>

                    <p> 
                        I placed the car on its side to see if the wheels would spin if 
                        it was powered by the power supply
                        as seen in the video below. I set the input voltage to 
                        3.7V to replicate the voltage of the motor batteries.
                    </p>

                    <iframe width="560" height="315" src="https://www.youtube.com/embed/4tZBuC5_Cpc"
                        title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen></iframe>

                    <p> 
                        Now, instead of powering it by the power supply, I connected the 
                        850 mAh battery to each dual motor driver to see if the battery 
                        would be able to power the circuit correctly. This resulted in all 
                        four wheels spinning.
                    </p>

                    <p> 
                        <script src="https://gist.github.com/eshitasangani/e86dfa110fa79e4ae535385a109b41b0.js"></script>
                    </p>

                    <iframe width="560" height="315" src="https://www.youtube.com/embed/FRxqqwSWQ-k"
                        title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen></iframe>

                </div>
            </div>
            <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                <div class="flex-grow-1">
                    <h3 class="mb-0">Install In The Car!!</h3>
                    <p>
                        After testing the functionality of everything, I 
                        put the car on the ground and messed around with it 
                        a little just to get an idea of how to control the robot.
                    </p>

                    <p>
                        By slowly increasing the PWM value, I could see that 
                        the lower limit of the PWM value was found to be around
                        40 for the right motor at the front facing 
                        orientation and around 43 for the left motor at that same 
                        orientation.
                    </p>
                </div>
            </div>

            <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                <div class="flex-grow-1">
                    <h3 class="mb-0">Open Loop Control</h3>
                   
                    <p>
                        Next, I added open loop control to my robot with this 
                        sequence below to move the robot a little bit forward 
                        and then be able to stop. I was a little uncertain 
                        because 

                        I didn't end up having a calibration factor because 
                        it seemed like the robot was moving pretty steadily 
                        and equally from both motors.

                    </p>

                    <p>
                        <script src="https://gist.github.com/eshitasangani/1912cc3008cdea95081fc029673cbc08.js"></script>
                    </p>


                    <iframe width="560" height="315" src="https://www.youtube.com/embed/NkwbGWYpzz0"
                        title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen></iframe>


                </div>
            </div>

        </div>
    </section>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
</body>

</html>